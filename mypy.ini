[mypy]
plugins = pydantic.mypy

strict_optional = True

follow_imports = silent
warn_redundant_casts = True
warn_unused_ignores = True
check_untyped_defs = True

# for strict mypy
disallow_untyped_defs = True

[pydantic-mypy]
init_forbid_extra = True
init_typed = True
warn_required_dynamic_aliases = True
warn_untyped_fields = True

# Ignore missing stubs for third-party libraries
[mypy-pytz.*]
ignore_missing_imports = True

[mypy-boto3.*]
ignore_missing_imports = True

[mypy-feedgen.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-jose.*]
ignore_missing_imports = True

[mypy-apscheduler.*]
ignore_missing_imports = True

# Relax type checking for test files
[mypy-chafan_core.tests.*]
disallow_untyped_defs = False
check_untyped_defs = False
